#version 410

layout(location=0) in vec4 Position;
layout(location=1) in vec2 TexCoord;

out vec2 vTexCoord;

uniform mat4 ProjectionView;
uniform sampler2D noiseTexture;
uniform float heightScale = 10;

void main() 
{ 
	vTexCoord = TexCoord;

	//sample height
	float height = texture(noiseTexture, TexCoord).r;

	// offsets Y by the height and heightScale
	gl_Position = ProjectionView * (Position + vec4(0,height * heightScale,0,0)); 
}